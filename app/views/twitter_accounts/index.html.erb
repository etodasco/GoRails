<div class="container">

    <!-- Header with "Connect to X Account" Button -->
    <div class="d-flex align-items-center justify-content-between mb-4">
        <h1>X Account(s)</h1>
        <%= button_to "Connect to X Account", "/auth/twitter", 
            data: { turbo: false }, 
            local: true, 
            method: :post, 
            class: "btn btn-primary" %>
    </div>

    <!-- X Accounts Section -->
    <% @twitter_accounts.each do |twitter_account| %>
        <div class="card card-body w-100 mb-3">
            <div class="d-flex align-items-center justify-content-between">
                <!-- Image + Username -->
                <div class="d-flex align-items-center">
                    <div class="me-3 text-center">
                        <%= image_tag twitter_account.image, class: "rounded-circle" %>
                        <div class="mt-2">
                            <%= link_to "@#{twitter_account.username}", 
                                "https://x.com/#{twitter_account.username}", 
                                target: :_blank, 
                                class: "d-block text-muted" %>
                        </div>
                    </div>
                </div>

                <!-- Disconnect Button -->
                <%= button_to "Disconnect", twitter_account, 
                    method: :delete, 
                    data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, 
                    class: "btn btn-outline-danger" %>
            </div>
        </div>
    <% end %>

</div>
